const a0_0x4f1b41=a0_0x5c25;(function(_0x352c69,_0x40ba4a){const _0x187324=a0_0x5c25,_0x12dd11=_0x352c69();while(!![]){try{const _0x5f00bb=parseInt(_0x187324(0x1fd))/0x1*(-parseInt(_0x187324(0x1f3))/0x2)+-parseInt(_0x187324(0x1f7))/0x3+-parseInt(_0x187324(0x1f6))/0x4*(-parseInt(_0x187324(0x20b))/0x5)+-parseInt(_0x187324(0x206))/0x6+-parseInt(_0x187324(0x20d))/0x7+-parseInt(_0x187324(0x1fc))/0x8*(parseInt(_0x187324(0x204))/0x9)+parseInt(_0x187324(0x203))/0xa*(parseInt(_0x187324(0x1fb))/0xb);if(_0x5f00bb===_0x40ba4a)break;else _0x12dd11['push'](_0x12dd11['shift']());}catch(_0xe799af){_0x12dd11['push'](_0x12dd11['shift']());}}}(a0_0x217a,0x2c9e9),require(a0_0x4f1b41(0x1f5))[a0_0x4f1b41(0x1ff)]());const {Pool}=require('pg'),s=require('../set');function a0_0x5c25(_0x17e9ef,_0x389e21){const _0x217aaf=a0_0x217a();return a0_0x5c25=function(_0x5c25d4,_0x3a1da6){_0x5c25d4=_0x5c25d4-0x1f3;let _0x433d35=_0x217aaf[_0x5c25d4];return _0x433d35;},a0_0x5c25(_0x17e9ef,_0x389e21);}var dbUrl=s[a0_0x4f1b41(0x208)]?s['DATABASE_URL']:a0_0x4f1b41(0x202);const proConfig={'connectionString':dbUrl,'ssl':{'rejectUnauthorized':![]}},pool=new Pool(proConfig),creerTableAfk=async()=>{const _0x2c1637=a0_0x4f1b41;try{await pool[_0x2c1637(0x207)](_0x2c1637(0x201)),console[_0x2c1637(0x209)](_0x2c1637(0x20f));}catch(_0x2ab975){console[_0x2c1637(0x200)](_0x2c1637(0x1f9),_0x2ab975);}};creerTableAfk();async function addOrUpdateAfk(_0x4a7963,_0x361f3a,_0x50fb29){const _0x1a81c0=a0_0x4f1b41;try{await pool[_0x1a81c0(0x207)](_0x1a81c0(0x1f8),[_0x4a7963,_0x361f3a,_0x50fb29]),console[_0x1a81c0(0x209)]('L\x27enregistrement\x20AFK\x20a\x20été\x20ajouté\x20ou\x20mis\x20à\x20jour\x20avec\x20succès.');}catch(_0x2fba00){console['error']('Une\x20erreur\x20est\x20survenue\x20lors\x20de\x20l\x27ajout\x20ou\x20de\x20la\x20mise\x20à\x20jour\x20de\x20l\x27enregistrement\x20AFK:',_0x2fba00);}}async function getAfkById(_0x359698){const _0xda9166=a0_0x4f1b41;try{const {rows:_0x30e6bd}=await pool[_0xda9166(0x207)](_0xda9166(0x20e),[_0x359698]);return _0x30e6bd[0x0];}catch(_0x52541c){return console['error'](_0xda9166(0x1fe),_0x52541c),null;}};async function changeAfkState(_0x109698,_0x2e3c50){const _0x353237=a0_0x4f1b41;try{const _0x243bb5=await pool[_0x353237(0x207)]('\x0a\x20\x20\x20\x20\x20\x20\x20\x20UPDATE\x20afk\x0a\x20\x20\x20\x20\x20\x20\x20\x20SET\x20etat\x20=\x20$1\x0a\x20\x20\x20\x20\x20\x20\x20\x20WHERE\x20id\x20=\x20$2\x0a\x20\x20\x20\x20\x20\x20\x20\x20RETURNING\x20*;\x0a\x20\x20\x20\x20\x20\x20',[_0x2e3c50,_0x109698]);return _0x243bb5['rows'][_0x353237(0x20a)]===0x0?(console[_0x353237(0x209)]('L\x27enregistrement\x20AFK\x20n\x27existe\x20pas.'),_0x353237(0x205)):(console[_0x353237(0x209)](_0x353237(0x20c)),_0x353237(0x210));}catch(_0x80f9e3){console[_0x353237(0x200)](_0x353237(0x1fa),_0x80f9e3);}}function a0_0x217a(){const _0x4f7658=['succes','44254hiSVce','exports','dotenv','3844wObwbd','776289hnhMIH','\x0a\x20\x20\x20\x20\x20\x20\x20\x20INSERT\x20INTO\x20afk\x20(id,\x20message,\x20lien)\x0a\x20\x20\x20\x20\x20\x20\x20\x20VALUES\x20($1,\x20$2,\x20$3)\x0a\x20\x20\x20\x20\x20\x20\x20\x20ON\x20CONFLICT\x20(id)\x0a\x20\x20\x20\x20\x20\x20\x20\x20DO\x20UPDATE\x20SET\x20message\x20=\x20$2,\x20lien\x20=\x20$3;\x0a\x20\x20\x20\x20\x20\x20','Une\x20erreur\x20est\x20survenue\x20lors\x20de\x20la\x20création\x20de\x20la\x20table\x20\x27afk\x27:','Une\x20erreur\x20est\x20survenue\x20lors\x20du\x20changement\x20de\x20l\x27état\x20de\x20l\x27enregistrement\x20AFK:','8327haGKmL','2528rxfkYS','8IGpQgj','Une\x20erreur\x20est\x20survenue\x20lors\x20de\x20la\x20récupération\x20de\x20l\x27enregistrement\x20AFK\x20par\x20ID:','config','error','\x0a\x20\x20\x20\x20\x20\x20\x20\x20CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20afk\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20id\x20serial\x20PRIMARY\x20KEY,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20etat\x20text\x20DEFAULT\x20\x27off\x27,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20message\x20text,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20lien\x20text\x0a\x20\x20\x20\x20\x20\x20\x20\x20);\x0a\x20\x20\x20\x20\x20\x20','postgres://db_7xp9_user:6hwmTN7rGPNsjlBEHyX49CXwrG7cDeYi@dpg-cj7ldu5jeehc73b2p7g0-a.oregon-postgres.render.com/db_7xp9','15830UkRHGR','3141harswG','not\x20defined','1163058kMcMMt','query','DATABASE_URL','log','length','285SLtBqq','L\x27état\x20de\x20l\x27enregistrement\x20AFK\x20a\x20été\x20modifié\x20avec\x20succès.','2313087MEURWr','\x0a\x20\x20\x20\x20\x20\x20\x20\x20SELECT\x20*\x20FROM\x20afk\x0a\x20\x20\x20\x20\x20\x20\x20\x20WHERE\x20id\x20=\x20$1;\x0a\x20\x20\x20\x20\x20\x20','La\x20table\x20\x27afk\x27\x20a\x20été\x20créée\x20avec\x20succès.'];a0_0x217a=function(){return _0x4f7658;};return a0_0x217a();}module[a0_0x4f1b41(0x1f4)]={'addOrUpdateAfk':addOrUpdateAfk,'getAfkById':getAfkById,'changeAfkState':changeAfkState};
